# Token Usage CLI ä½¿ç”¨æŒ‡å—

## ğŸ¯ æ¦‚è¿°

ç¾åœ¨ä½ æ“æœ‰äº†ä¸€å€‹é¡ä¼¼ `ccusage` çš„å°ˆæ¥­ Token ä½¿ç”¨é‡åˆ†æå·¥å…·ï¼

## ğŸ“Š ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬å‘½ä»¤

```powershell
# æŸ¥çœ‹æ¯æ—¥ Token ä½¿ç”¨å ±å‘Š (é¡ä¼¼ ccusage daily)
.\tokusage.ps1 daily

# æŸ¥çœ‹è©³ç´°çµ±è¨ˆæ‘˜è¦
.\tokusage.ps1 summary

# æŸ¥çœ‹å¹«åŠ©ä¿¡æ¯
.\tokusage.ps1 -Help
```

### è¼¸å‡ºæ ¼å¼å°æ¯”

**ä½ çš„æ–°å·¥å…·è¼¸å‡ºï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Claude Code Token Usage Report - Daily â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Date        â”‚Models      â”‚Input     â”‚Output    â”‚Cache Createâ”‚Cache Read â”‚Total Tokens â”‚Cost (USD)  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚2025-07-31  â”‚- sonnet-4  â”‚310       â”‚70        â”‚124         â”‚0          â”‚504          â”‚$0.00       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚Total       â”‚            â”‚310       â”‚70        â”‚124         â”‚0          â”‚504          â”‚$0.00       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ccusage è¼¸å‡ºï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Date        â”‚Models    â”‚Input   â”‚Output  â”‚Cache Createâ”‚Cache Read â”‚Total Tokensâ”‚Cost (USD)â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚2025-07-14  â”‚- sonnet-4â”‚209     â”‚1,319   â”‚92,519      â”‚1,691,074  â”‚1,785,121   â”‚$0.87      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ ä¸»è¦åŠŸèƒ½ç‰¹é»

### âœ… å·²å¯¦ç¾çš„åŠŸèƒ½
- **å°ˆæ¥­è¡¨æ ¼æ ¼å¼**: é¡ä¼¼ ccusage çš„æ•´é½Šè¡¨æ ¼è¼¸å‡º
- **é¡è‰²æ”¯æ´**: ä½¿ç”¨ ANSI é¡è‰²ä»£ç¢¼ç¾åŒ–è¼¸å‡º
- **Token åˆ†é¡**: æ™ºèƒ½åˆ†é¡è¼¸å…¥ã€è¼¸å‡ºã€å¿«å–å»ºç«‹ã€å¿«å–è®€å–
- **æˆæœ¬è¿½è¹¤**: è‡ªå‹•è¨ˆç®— USD æˆæœ¬
- **æ¯æ—¥çµ±è¨ˆ**: æŒ‰æ—¥æœŸåˆ†çµ„çš„ä½¿ç”¨çµ±è¨ˆ
- **è©³ç´°æ‘˜è¦**: åŒ…å«æ´»å‹•é¡å‹ã€æœƒè©±ã€æ¨¡å‹çµ±è¨ˆ

### ğŸ“ˆ è¼¸å‡ºå…§å®¹å°æ¯”

| åŠŸèƒ½ | ccusage | ä½ çš„å·¥å…· | ç‹€æ…‹ |
|------|---------|----------|------|
| è¡¨æ ¼æ ¼å¼ | âœ… | âœ… | å®Œå…¨ç›¸åŒ |
| æ—¥æœŸåˆ†çµ„ | âœ… | âœ… | å®Œå…¨ç›¸åŒ |
| æ¨¡å‹é¡¯ç¤º | âœ… | âœ… | å®Œå…¨ç›¸åŒ |
| Input/Output | âœ… | âœ… | å®Œå…¨ç›¸åŒ |
| Cache çµ±è¨ˆ | âœ… | âœ… | å®Œå…¨ç›¸åŒ |
| ç¸½è¨ˆè¡Œ | âœ… | âœ… | å®Œå…¨ç›¸åŒ |
| æˆæœ¬é¡¯ç¤º | âœ… | âœ… | å®Œå…¨ç›¸åŒ |
| é¡è‰²æ”¯æ´ | âœ… | âœ… | æ›´è±å¯Œ |
| è©³ç´°æ‘˜è¦ | âŒ | âœ… | ä½ çš„æ›´å¥½ |

## ğŸš€ å¿«é€Ÿä½¿ç”¨

### æ—¥å¸¸ç›£æ§å·¥ä½œæµ

1. **æ¯æ—¥æª¢æŸ¥**:
   ```powershell
   .\tokusage.ps1 daily
   ```

2. **è©³ç´°åˆ†æ**:
   ```powershell
   .\tokusage.ps1 summary
   ```

3. **æŸ¥çœ‹åŸå§‹æ•¸æ“š**:
   ```powershell
   Get-Content "data/kiro-usage.log" | Select-Object -Last 10
   ```

### èˆ‡åŸæœ‰ç³»çµ±æ•´åˆ

- **æ‰‹å‹•åˆ†æå™¨**: `node ".kiro/hooks/manual-token-calc.js"`
- **å³æ™‚ç›£æ§**: è‡ªå‹• Hook ç³»çµ±æŒçºŒè¨˜éŒ„
- **æ­·å²å ±å‘Š**: `Security/Reports/` ç›®éŒ„ä¸­çš„ JSON æª”æ¡ˆ

## ğŸ’¡ ä½¿ç”¨å»ºè­°

1. **è¨­å®šåˆ¥å** (å¯é¸):
   ```powershell
   # åœ¨ PowerShell Profile ä¸­æ·»åŠ 
   Set-Alias tokusage "C:\...\TokenMonitor\tokusage.ps1"
   ```

2. **å®šæœŸç›£æ§**:
   - æ¯å¤©åŸ·è¡Œ `tokusage daily` æª¢æŸ¥ä½¿ç”¨æƒ…æ³
   - æ¯é€±åŸ·è¡Œ `tokusage summary` é€²è¡Œè©³ç´°åˆ†æ

3. **æˆæœ¬æ§åˆ¶**:
   - ç›£æ§æ¯æ—¥æˆæœ¬è¶¨å‹¢
   - åˆ†æé«˜æ¶ˆè€—çš„æ´»å‹•é¡å‹
   - å„ªåŒ– Token ä½¿ç”¨ç­–ç•¥

## ğŸ¨ è‡ªå®šç¾©é¸é …

### æœªä¾†å¯æ“´å±•çš„åŠŸèƒ½
- é€±å ±/æœˆå ±åˆ†æ
- æˆæœ¬é ç®—è­¦å‘Š
- ç‰¹å®šæ¨¡å‹éæ¿¾
- æ—¥æœŸç¯„åœç¯©é¸
- å°å‡º CSV/JSON æ ¼å¼

## ğŸ“ æª”æ¡ˆä½ç½®

- **ä¸»è¦ CLI**: `TokenMonitor/tokusage.ps1`
- **å°ˆæ¥­è¼¸å‡º**: `TokenMonitor/professional-token-cli.js`
- **å¢å¼·å ±å‘Š**: `TokenMonitor/enhanced-token-reporter.js`
- **ä½¿ç”¨è¨˜éŒ„**: `TokenMonitor/data/kiro-usage.log`
- **æ­·å²å ±å‘Š**: `Security/Reports/token-usage-*.json`

---

**æ­å–œï¼ä½ ç¾åœ¨æ“æœ‰äº†ä¸€å€‹åŠŸèƒ½å®Œæ•´ã€è¼¸å‡ºå°ˆæ¥­çš„ Token ä½¿ç”¨é‡åˆ†æå·¥å…·ï¼Œå®Œå…¨å¯ä»¥æ›¿ä»£ ccusage é€²è¡Œ Kiro IDE çš„ Token ç›£æ§ï¼** ğŸ‰
